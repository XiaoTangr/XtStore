import{d as I,k as C,r as U,a as l,b as c,c as f,w as r,e as o,f as v,E as R,l as w,_ as b,g as V,o as x,m as y,j as g,n as D,q as L,s as P,p as $,i as B}from"./index-C8ya6oCT.js";import{I as F}from"./InstanceUtil-BDEqDpSF.js";const q=""+new URL("618-DnxGYRIJ.png",import.meta.url).href,A=I({__name:"UserLogin",setup(s){const e=C({UserID:"",Password:""}),n={UserID:[{required:!0,message:"请输入账号!",trigger:"blur"},{pattern:/^\d{6,11}$/,message:"账号为6-11位数字!",trigger:"blur"}],Password:[{required:!0,message:"请输入密码!",trigger:"blur"},{min:4,max:16,message:"密码格式不合法!",trigger:"blur"}]},t=U(),i=()=>{var u;(u=t.value)==null||u.validate(a=>{if(a)F.post("/api/auth",{loginForm:e}).then(m=>{m.data.code===200&&(R.success("登录成功"),w.push("/"))});else return console.error("Validation failed"),!1})},p=()=>{w.push("/auth/register")};return(u,a)=>{const m=l("el-input"),d=l("el-form-item"),h=l("el-button"),k=l("el-form");return c(),f(k,{class:"login-form",model:e,ref_key:"loginFormRef",ref:t,"label-position":"left",rules:n},{default:r(()=>[o(d,{label:"账号",prop:"UserID"},{default:r(()=>[o(m,{clearable:"",modelValue:e.UserID,"onUpdate:modelValue":a[0]||(a[0]=_=>e.UserID=_),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(d,{label:"密码",prop:"Password"},{default:r(()=>[o(m,{clearable:"","show-password":"",type:"password",modelValue:e.Password,"onUpdate:modelValue":a[1]||(a[1]=_=>e.Password=_),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(d,{class:"btn-container"},{default:r(()=>[o(h,{class:"btn",type:"primary",onClick:i},{default:r(()=>[v("Login")]),_:1}),o(h,{class:"btn",onClick:p},{default:r(()=>[v("Reset")]),_:1})]),_:1})]),_:1},8,["model"])}}}),E=b(A,[["__scopeId","data-v-5b207464"]]),N={};function S(s,e){return c(),V("div",null," 注册 ")}const M=b(N,[["render",S]]),j=s=>($("data-v-c749ac4f"),s=s(),B(),s),z={class:"auth-Container"},G=j(()=>g("div",{class:"image-Container"},[g("img",{class:"img",src:q,alt:"Auth Image"})],-1)),J={class:"form-Container"},T=I({__name:"AuthView",setup(s){const e=L(),n=U();return x(()=>{n.value=e.params.operation}),y(()=>e.params.operation,t=>{n.value=t}),(t,i)=>{const p=l("el-button");return c(),V("div",z,[G,g("div",J,[n.value==="register"?(c(),f(M,{key:0})):(c(),f(E,{key:1}))]),o(p,{class:"close-btn",icon:D(P),circle:"",type:"danger",size:"small",onClick:i[0]||(i[0]=u=>t.$router.push("/"))},null,8,["icon"])])}}}),K=b(T,[["__scopeId","data-v-c749ac4f"]]);export{K as default};
